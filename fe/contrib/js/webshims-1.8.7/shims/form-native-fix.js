jQuery.webshims.register("form-native-fix",function(b,d,h,p,g){if(Modernizr.formvalidation&&!Modernizr.bugfreeformvalidation){var j=b.browser.webkit,p=j&&533.18>d.browserVersion,k=[],i,e;if(h.addEventListener){var n=g,o=!1;h.addEventListener("submit",function(a){if(!o&&a.target.checkValidity&&null==b.attr(a.target,"novalidate"))h.opera?b(":invalid",a.target).length&&(b(a.target).unbind("submit.preventInvalidSubmit").bind("submit.preventInvalidSubmit",function(c){null==b.attr(a.target,"novalidate")&&
(c.stopImmediatePropagation(),j&&c.preventDefault());a.target&&b(a.target).unbind("submit.preventInvalidSubmit")}),d.moveToFirstEvent(a.target,"submit")):(d.fromSubmit=!0,b(a.target).checkValidity(),d.fromSubmit=!1)},!0);g=function(a){null!=b.attr(a.target,"formnovalidate")&&(n&&clearTimeout(n),o=!0,n=setTimeout(function(){o=!1},20))};h.addEventListener("click",g,!0);h.addEventListener("touchstart",g,!0);h.addEventListener("touchend",g,!0)}b(document).bind("firstinvalidsystem",function(a,c){if(e=
c.form)i=!1,k=[],b(e).unbind("submit.preventInvalidSubmit").bind("submit.preventInvalidSubmit",function(a){null==b.attr(e,"novalidate")&&(a.stopImmediatePropagation(),j&&a.preventDefault());e&&b(e).unbind("submit.preventInvalidSubmit")}),d.moveToFirstEvent(e,"submit"),d.fromSubmit&&(i=c)}).bind("invalid",function(a){-1==k.indexOf(a.target)?k.push(a.target):a.stopImmediatePropagation()}).bind("lastinvalid",function(a,c){var l=c.invalidlist[0];l&&(j||!Modernizr.requiredSelect&&b.nodeName(l,"select"))&&
document.activeElement&&l!==document.activeElement&&i&&!i.isInvalidUIPrevented()&&d.validityAlert.showFor(l);i=!1;k=[];e&&b(e).unbind("submit.preventInvalidSubmit")});if(p){var q,m;b(document).bind("invalid",function(a){if(a.originalEvent&&!d.fromSubmit&&!d.fromCheckValidity&&(b.prop(a.target,"validity")||{}).valid)return a.originalEvent.wrongWebkitInvalid=!0,a.wrongWebkitInvalid=!0,a.stopImmediatePropagation(),a.preventDefault(),!1;m=!0;clearTimeout(q);q=setTimeout(function(){a.target.form&&!m&&
(m=!1,b(a.target.form).trigger("submit"));m=!1},1)});d.moveToFirstEvent(document,"invalid");b(document).bind("firstinvalidsystem",function(a,b){d.fromCheckValidity||setTimeout(function(){b.isInvalidUIPrevented()||d.validityAlert.showFor(b.element)},0)})}(function(){j&&!(534.5<d.browserVersion)&&(["input","textarea","select"].forEach(function(a){var c=d.defineNodeNameProperty(a,"checkValidity",{prop:{value:function(){if(!this.willValidate)return!0;var a=(b.prop(this,"validity")||{valid:!0}).valid;
d.fromCheckValidity=!0;!a&&c.prop._supvalue&&c.prop._supvalue.call(this)&&b(this).trigger("invalid");d.fromCheckValidity=!1;return a}}})}),d.defineNodeNameProperty("form","checkValidity",{prop:{value:function(){var a=!0;b(this.elements||[]).filter(function(){if(!this.willValidate)return!1;var a=d.data(this,"shadowData");return!a||!a.nativeElement||a.nativeElement===this}).each(function(){!1===b(this).checkValidity()&&(a=!1)});return a}}}))})();Modernizr.requiredSelect||d.ready("form-extend",function(){d.addValidityRule("valueMissing",
function(a,c,d,e){if("select"==d.nodeName&&!c&&a.prop("required")){if(!d.type)d.type=a[0].type;if(c=!c)if(!(c=0>a[0].selectedIndex))a=a[0],c="select-one"==a.type&&2>a.size?b("> option:first-child",a).prop("selected"):!1;if(c)return!0}return e.valueMissing});d.defineNodeNamesBooleanProperty(["select"],"required",{set:function(a){this.setAttribute("aria-required",a?"true":"false");b.prop(this,"validity")},initAttr:!0})});"formTarget"in document.createElement("input")||function(){var a={submit:1,button:1,
image:1},c={};[{name:"enctype",limitedTo:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},defaultProp:"application/x-www-form-urlencoded",proptype:"enum"},{name:"method",limitedTo:{get:1,post:1},defaultProp:"get",proptype:"enum"},{name:"action",proptype:"url"},{name:"target"}].forEach(function(d){var e="form"+(d.propName||d.name).replace(/^[a-z]/,function(a){return a.toUpperCase()}),f="form"+d.name,h=d.name,g="click.webshimssubmittermutate"+h,j=function(){if("form"in
this&&a[this.type]){var c=b.prop(this,"form");if(c){var g=b.attr(this,f);if(null!=g&&(!d.limitedTo||g.toLowerCase()===b.prop(this,e))){var i=b.attr(c,h);b.attr(c,h,g);setTimeout(function(){null!=i?b.attr(c,h,i):b(c).removeAttr(h)},9)}}}};switch(d.proptype){case "url":var i=document.createElement("form");c[e]={prop:{set:function(a){b.attr(this,f,a)},get:function(){var a=b.attr(this,f);if(null==a)return"";i.setAttribute("action",a);return i.action}}};break;case "boolean":c[e]={prop:{set:function(a){a?
b.attr(this,"formnovalidate","formnovalidate"):b(this).removeAttr("formnovalidate")},get:function(){return null!=b.attr(this,"formnovalidate")}}};break;case "enum":c[e]={prop:{set:function(a){b.attr(this,f,a)},get:function(){var a=b.attr(this,f);return!a||(a=a.toLowerCase())&&!d.limitedTo[a]?d.defaultProp:a}}};break;default:c[e]={prop:{set:function(a){b.attr(this,f,a)},get:function(){var a=b.attr(this,f);return null!=a?a:""}}}}c[f]||(c[f]={});c[f].attr={set:function(a){c[f].attr._supset.call(this,
a);b(this).unbind(g).bind(g,j)},get:function(){return c[f].attr._supget.call(this)}};c[f].initAttr=!0;c[f].removeAttr={value:function(){b(this).unbind(g);c[f].removeAttr._supvalue.call(this)}}});d.defineNodeNamesProperties(["input","button"],c)}()}});
